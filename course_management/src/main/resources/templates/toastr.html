<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Mosaddek">
    <meta name="keyword" content="FlatLab, Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
    <link rel="shortcut icon" href="img/favicon.png">

    <title>Toastr</title>

      <!-- Bootstrap core CSS -->
      <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
      <link th:href="@{/css/bootstrap-reset.css}" rel="stylesheet">
      <!--external css-->
      <link th:href="@{/assets/font-awesome/css/font-awesome.css}" rel="stylesheet" />
      <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
      <link th:href="@{/css/tasks.css}" rel="stylesheet">

      <!--right slidebar-->
      <link th:href="@{/css/slidebars.css}" rel="stylesheet">

      <!-- Custom styles for this template -->
      <link th:href="@{/css/style.css}" rel="stylesheet">
      <link th:href="@{/css/style-responsive.css}" rel="stylesheet" />

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 tooltipss and media queries -->
      <!--[if lt IE 9]-->
      <script th:src="@{/js/html5shiv.js}"></script>
      <script th:src="@{/js/respond.min.js}"></script>
      <!--[endif]-->
  </head>

  <body>

  <section id="container" class="">
      <!--header start-->
      <header class="header white-bg">
          <div class="sidebar-toggle-box">
              <div data-original-title="Toggle Navigation" data-placement="right" class="fa fa-bars tooltips"></div>
          </div>
          <!--logo start-->
          <a href="index.html" class="logo" >Flat<span>lab</span></a>
          <!--logo end-->
          <div class="top-nav ">
              <ul class="nav pull-right top-menu">
                  <li>
                      <input type="text" class="form-control search" placeholder="Search">
                  </li>
                  <!-- user login dropdown start-->
                  <li class="dropdown">
                      <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                          <img alt="" th:src="@{/img/avatar1_small.jpg}">
                          <span class="username">Jhon Doue</span>
                          <b class="caret"></b>
                      </a>
                      <ul class="dropdown-menu extended logout">
                          <div class="log-arrow-up"></div>
                          <li><a href="#"><i class=" fa fa-suitcase"></i>Profile</a></li>
                          <li><a href="#"><i class="fa fa-cog"></i> Settings</a></li>
                          <li><a href="#"><i class="fa fa-bell-o"></i> Notification</a></li>
                          <li><a href="login.html"><i class="fa fa-key"></i> Log Out</a></li>
                      </ul>
                  </li>

                  <!-- user login dropdown end -->
                  <li class="sb-toggle-right">
                      <i class="fa  fa-align-right"></i>
                  </li>
              </ul>
          </div>
      </header>
      <!--header end-->
      <!--sidebar end-->
      <!--main content start-->
      <section id="main-content">
          <section class="wrapper site-min-height">
              <!-- page start-->
              <div class="panel">
                  <header class="panel-heading">
                      新增课程
                  </header>
                  <div class="panel-body">
                      <div class="row toastr-row">
                          <div class="col-md-3">
                              <div class="form-group">
                                  <div class="controls toastr-pad">
                                      <label class="control-label">课程名称</label>
                                      <input id="name" type="text"  class="form-control input-small">
                                      <label class="control-label">课程时间(注意格式:yyyy-MM-dd)</label>
                                      <input id="ltime" type="text"  class="form-control input-small">
                                      <label class="control-label">允许数量</label>
                                      <input id="number" type="text"  class="form-control input-small">
                                      <label class="control-label">教室</label>
                                      <div >
                                          <select id="sele">
                                              <option th:each="cla:${classroom}" th:text="${cla.classroomName}">Volvo</option>
                                          </select>
                                      </div>
                                      <label class="control-label" >专业</label>
                                      <div class="checkbox-list">
                                          <ul id="checkboxes">
                                              <li th:each="maj:${major}">
                                                  <input type="checkbox" name="RoleModuleVo"
                                                         th:checked="checked" th:text="${maj.majorName}"/>

                                              </li>
                                          </ul>
                                      </div>

                                      <label class="control-label" >授课方式</label>
                                      <select id="model">
                                          <option>线下</option>
                                          <option>线上</option>
                                      </select>
                                      <div class="col-md-9">
                                          <label class="control-label" >课程描述</label>
                                          <textarea id="describe" rows="10"></textarea>
                                      </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="row">
                          <div class="col-md-12">
                              <button type="button" class="btn btn-success" id="submit">提交</button>
                              <button type="button" class="btn btn-danger" id="clear">清空</button>
                          </div>
                      </div>
                  </div>
              </div>
              <!-- page end-->
          </section>
      </section>
      <!--main content end-->

      <!-- Right Slidebar start -->
      <div class="sb-slidebar sb-right sb-style-overlay">
          <h5 class="side-title">Online Customers</h5>
          <ul class="quick-chat-list">
              <li class="online">
                  <div class="media">
                      <a href="#" class="pull-left media-thumb">
                          <img alt="" src="img/chat-avatar2.jpg" class="media-object">
                      </a>
                      <div class="media-body">
                          <strong>John Doe</strong>
                          <small>Dream Land, AU</small>
                      </div>
                  </div><!-- media -->
              </li>
              <li class="online">
                  <div class="media">
                      <a href="#" class="pull-left media-thumb">
                          <img alt="" src="img/chat-avatar.jpg" class="media-object">
                      </a>
                      <div class="media-body">
                          <div class="media-status">
                              <span class=" badge bg-important">3</span>
                          </div>
                          <strong>Jonathan Smith</strong>
                          <small>United States</small>
                      </div>
                  </div><!-- media -->
              </li>

              <li class="online">
                  <div class="media">
                      <a href="#" class="pull-left media-thumb">
                          <img alt="" src="img/pro-ac-1.png" class="media-object">
                      </a>
                      <div class="media-body">
                          <div class="media-status">
                              <span class=" badge bg-success">5</span>
                          </div>
                          <strong>Jane Doe</strong>
                          <small>ABC, USA</small>
                      </div>
                  </div><!-- media -->
              </li>
              <li class="online">
                  <div class="media">
                      <a href="#" class="pull-left media-thumb">
                          <img alt="" src="img/avatar1.jpg" class="media-object">
                      </a>
                      <div class="media-body">
                          <strong>Anjelina Joli</strong>
                          <small>Fockland, UK</small>
                      </div>
                  </div><!-- media -->
              </li>
              <li class="online">
                  <div class="media">
                      <a href="#" class="pull-left media-thumb">
                          <img alt="" src="img/mail-avatar.jpg" class="media-object">
                      </a>
                      <div class="media-body">
                          <div class="media-status">
                              <span class=" badge bg-warning">7</span>
                          </div>
                          <strong>Mr Tasi</strong>
                          <small>Dream Land, USA</small>
                      </div>
                  </div><!-- media -->
              </li>
          </ul>
          <h5 class="side-title"> pending Task</h5>
          <ul class="p-task tasks-bar">
              <li>
                  <a href="#">
                      <div class="task-info">
                          <div class="desc">Dashboard v1.3</div>
                          <div class="percent">40%</div>
                      </div>
                      <div class="progress progress-striped">
                          <div style="width: 40%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="40" role="progressbar" class="progress-bar progress-bar-success">
                              <span class="sr-only">40% Complete (success)</span>
                          </div>
                      </div>
                  </a>
              </li>
              <li>
                  <a href="#">
                      <div class="task-info">
                          <div class="desc">Database Update</div>
                          <div class="percent">60%</div>
                      </div>
                      <div class="progress progress-striped">
                          <div style="width: 60%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="60" role="progressbar" class="progress-bar progress-bar-warning">
                              <span class="sr-only">60% Complete (warning)</span>
                          </div>
                      </div>
                  </a>
              </li>
              <li>
                  <a href="#">
                      <div class="task-info">
                          <div class="desc">Iphone Development</div>
                          <div class="percent">87%</div>
                      </div>
                      <div class="progress progress-striped">
                          <div style="width: 87%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="20" role="progressbar" class="progress-bar progress-bar-info">
                              <span class="sr-only">87% Complete</span>
                          </div>
                      </div>
                  </a>
              </li>
              <li>
                  <a href="#">
                      <div class="task-info">
                          <div class="desc">Mobile App</div>
                          <div class="percent">33%</div>
                      </div>
                      <div class="progress progress-striped">
                          <div style="width: 33%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="80" role="progressbar" class="progress-bar progress-bar-danger">
                              <span class="sr-only">33% Complete (danger)</span>
                          </div>
                      </div>
                  </a>
              </li>
              <li>
                  <a href="#">
                      <div class="task-info">
                          <div class="desc">Dashboard v1.3</div>
                          <div class="percent">45%</div>
                      </div>
                      <div class="progress progress-striped active">
                          <div style="width: 45%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="45" role="progressbar" class="progress-bar">
                              <span class="sr-only">45% Complete</span>
                          </div>
                      </div>

                  </a>
              </li>
              <li class="external">
                  <a href="#">See All Tasks</a>
              </li>
          </ul>
      </div>
      <!-- Right Slidebar end -->

      <!--footer start-->
      <footer class="site-footer">
          <div class="text-center">
              2013 &copy; FlatLab by VectorLab.
              <a href="#" class="go-top">
                  <i class="fa fa-angle-up"></i>
              </a>
          </div>
      </footer>
      <!--footer end-->
  </section>

  <!-- js placed at the end of the document so the pages load faster -->
  <script th:src="@{/js/jquery.js}"></script>
  <script th:src="@{/js/bootstrap.min.js}"></script>
  <script class="include" type="text/javascript" th:src="@{/js/jquery.dcjqaccordion.2.7.js}"></script>
  <script th:src="@{/js/jquery.scrollTo.min.js}"></script>
  <script th:src="@{/js/jquery.nicescroll.js}" type="text/javascript"></script>
  <script th:src="@{/js/respond.min.js}" ></script>
  <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

  <!--right slidebar-->
  <script th:src="@{/js/slidebars.min.js}"></script>

  <!--common script for all pages-->
  <script th:src="@{/js/common-scripts.js}"></script>
  <script th:src="@{/js/tasks.js}" type="text/javascript"></script>

  <script type="text/javascript">
      $("#submit").click(function () {
          //获取到已选择的专业
          temp = document.getElementById("checkboxes");
          lis = temp.getElementsByTagName('li');
          var arr = new Array(lis.length)
          var index = 0
          for(i = 0;i < lis.length;i++) {
              if(lis[i].childNodes[1].checked)
              {
                  arr[index++] = lis[i].childNodes[2].data
              }
          }

          console.log(arr)

          $.ajax({
              url:"/course/add",
              type: "post",
              dataType:"json",
              contentType:"application/json",
              data:JSON.stringify({
                  "courseName":document.getElementById("name").value,
                  "lessonTime":document.getElementById("ltime").value,
                  "optionalNumber":document.getElementById("number").value,
                  "classroom":document.getElementById("sele").value,
                  "optionalMajor":arr,
                  "modeDelivery":document.getElementById("model").value,
                  "courseDescribe":document.getElementById("describe").value
              })
              ,success(resp){
                  if(resp.code === 200)
                  {
                      alert(resp.message)
                      location.href="/todoList";
                  }else{
                      alert(resp.message)
                  }
              }

          })
      })
  </script>


  </body>
</html>
